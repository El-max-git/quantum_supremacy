# –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ Article Parser

## –í–≤–µ–¥–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å—Ç–∞—Ç–µ–π ‚Äî —ç—Ç–æ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–æ–¥—É–ª—å –¥–ª—è –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è markdown —Å—Ç–∞—Ç–µ–π –≤ HTML —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–æ—Ä–º—É–ª, —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –±–ª–æ–∫–æ–≤, –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π –∏ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å—Å—ã–ª–æ–∫. –ü–∞—Ä—Å–µ—Ä –≤—Å—Ç—Ä–æ–µ–Ω –≤ `pages/article-view.html` –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ Markdown.

## –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–∏—Å—Ç–µ–º—ã

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

```
Article Parser System
‚îú‚îÄ‚îÄ pages/article-view.html    - –°—Ç—Ä–∞–Ω–∏—Ü–∞ –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ (–≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø–∞—Ä—Å–µ—Ä)
‚îú‚îÄ‚îÄ js/table-of-contents.js    - –ì–µ–Ω–µ—Ä–∞—Ç–æ—Ä —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è
‚îú‚îÄ‚îÄ css/style.css              - –°—Ç–∏–ª–∏ —Å—Ç–∞—Ç–µ–π
‚îî‚îÄ‚îÄ articles/articles-list.json - –ö–∞—Ç–∞–ª–æ–≥ —Å—Ç–∞—Ç–µ–π
```

### –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

- **MathJax 3.x** - —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –º–∞—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–æ—Ä–º—É–ª (LaTeX)
- **TableOfContents** (`js/table-of-contents.js`) - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è
- **Browser APIs** - DOM manipulation, fetch, History API

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** –ü–∞—Ä—Å–∏–Ω–≥ Markdown –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π `simpleMarkdownToHtml()` –±–µ–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –≤–Ω–µ—à–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ —Ç–∏–ø–∞ marked.js.

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

### 1. –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–π —Å—Ç–∞—Ç—å–∏

#### –®–∞–≥ 1: –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫

```bash
articles/
‚îî‚îÄ‚îÄ my-article/
    ‚îú‚îÄ‚îÄ article.md          # –û—Å–Ω–æ–≤–Ω–æ–π —Ç–µ–∫—Å—Ç (—Å YAML frontmatter)
    ‚îî‚îÄ‚îÄ images/             # –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
```

#### –®–∞–≥ 2: –ù–∞–ø–∏—Å–∞—Ç—å markdown —Ñ–∞–π–ª

–°–æ–∑–¥–∞—Ç—å `articles/my-article/article.md` —Å–æ–≥–ª–∞—Å–Ω–æ [–ø—Ä–æ—Ç–æ–∫–æ–ª—É —Ä–∞–∑–º–µ—Ç–∫–∏](ARTICLE_PROTOCOL.md).

**–í–∞–∂–Ω–æ:** –ú–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ —É–∫–∞–∑—ã–≤–∞—é—Ç—Å—è –≤ YAML frontmatter –≤ –Ω–∞—á–∞–ª–µ —Ñ–∞–π–ª–∞ (–º–µ–∂–¥—É `---`), –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ñ–∞–π–ª `metadata.json` –Ω–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è.

```markdown
---
id: my-article
title: –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç–∞—Ç—å–∏
author: –ò–º—è –∞–≤—Ç–æ—Ä–∞
date: 2025-01-01
category: theory
tags: [quantum, physics]
description: –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
readingTime: 10
difficulty: intermediate
---

# –ó–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç–∞—Ç—å–∏

–¢–µ–∫—Å—Ç —Å—Ç–∞—Ç—å–∏...
```

#### –®–∞–≥ 3: –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å –≤ articles-list.json

–î–æ–±–∞–≤–∏—Ç—å –≤ `articles/articles-list.json`:

```json
{
  "categories": [
    {
      "id": "theory",
      "title": "–¢–µ–æ—Ä–∏—è",
      "items": [
        {
          "id": "my-article",
          "mdFile": "articles/my-article/article.md"
        }
      ]
    }
  ]
}
```

### 2. –ü—Ä–æ–≥—Ä–∞–º–º–Ω—ã–π API

#### –ü–∞—Ä—Å–∏–Ω–≥ Markdown

–ü–∞—Ä—Å–∏–Ω–≥ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–µ–π `simpleMarkdownToHtml()` –≤ `pages/article-view.html`:

```javascript
// –ü–∞—Ä—Å–∏–Ω–≥ markdown –≤ HTML
const html = simpleMarkdownToHtml(markdownText);

// –§—É–Ω–∫—Ü–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç:
// - –ë–ª–æ–∫–∏ –∫–æ–¥–∞ (```)
// - LaTeX —Ñ–æ—Ä–º—É–ª—ã ($$, $)
// - –§–æ—Ä–º—É–ª—ã ([formula])
// - –ó–∞–≥–æ–ª–æ–≤–∫–∏ (#)
// - –¢–∞–±–ª–∏—Ü—ã (|)
// - –°–ø–∏—Å–∫–∏ (-, *)
// - –°—Å—ã–ª–∫–∏ ([])
// - –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è (![])
```

#### –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ frontmatter

```javascript
// –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ YAML frontmatter
const frontmatterMatch = mdText.match(/^---\r?\n([\s\S]*?)\r?\n---(\r?\n|$)/);
if (frontmatterMatch) {
    const yamlText = frontmatterMatch[1];
    const content = mdText.substring(frontmatterMatch[0].length);
    // –ü–∞—Ä—Å–∏–Ω–≥ YAML (–ø—Ä–æ—Å—Ç–æ–π –ø–∞—Ä—Å–µ—Ä)
    const metadata = parseYAML(yamlText);
}
```

#### TableOfContents

```javascript
// –°–æ–∑–¥–∞–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞
const toc = new TableOfContents({
    minHeadings: 3,
    maxLevel: 4,
    scrollOffset: 80
});

// –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è
const tocHtml = toc.generate(contentElement);

// –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Å–∫—Ä–æ–ª–ª–∞
toc.initScrollTracking();

// –ë—ã—Å—Ç—Ä–∞—è –≥–µ–Ω–µ—Ä–∞—Ü–∏—è (—Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π –º–µ—Ç–æ–¥)
const html = TableOfContents.quick(contentElement);
```

### 3. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ä–æ—É—Ç–µ—Ä–æ–º

–°—Ç–∞—Ç—å–∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —Å—Ç—Ä–∞–Ω–∏—Ü—É `pages/article-view.html`. –†–æ—É—Ç–µ—Ä –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç articleId –∏–∑ URL –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ `id` –∏ –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â—É—é —Å—Ç–∞—Ç—å—é.

**URL —Ñ–æ—Ä–º–∞—Ç:**
```
/article?id={article-id}
/article?id={article-id}&page={page-number}
```

**–ü—Ä–∏–º–µ—Ä:**
```
https://example.com/article?id=gravity-casimir
‚Üí –∑–∞–≥—Ä—É–∂–∞–µ—Ç —Å—Ç–∞—Ç—å—é –∏–∑ –∫–∞—Ç–∞–ª–æ–≥–∞ articles-list.json
‚Üí –Ω–∞—Ö–æ–¥–∏—Ç mdFile: "articles/gravity-casimir/article.md"
‚Üí –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏ –ø–∞—Ä—Å–∏—Ç —Ñ–∞–π–ª
```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

### –ü–∞—Ä—Å–µ—Ä –Ω–µ —Ç—Ä–µ–±—É–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–ü–∞—Ä—Å–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç–∞—Ç—å–∏. –í—Å–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è—é—Ç—Å—è –∏–∑:
- YAML frontmatter —Å—Ç–∞—Ç—å–∏ (–º–µ—Ç–∞–¥–∞–Ω–Ω—ã–µ)
- –°—Ç—Ä—É–∫—Ç—É—Ä—ã –∫–∞—Ç–∞–ª–æ–≥–∞ `articles/articles-list.json`
- –í—Å—Ç—Ä–æ–µ–Ω–Ω–æ–π –ª–æ–≥–∏–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞

### TableOfContents options

| –ü–∞—Ä–∞–º–µ—Ç—Ä | –¢–∏–ø | –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é | –û–ø–∏—Å–∞–Ω–∏–µ |
|----------|-----|--------------|----------|
| `minHeadings` | number | `3` | –ú–∏–Ω–∏–º—É–º –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ –¥–ª—è TOC |
| `maxLevel` | number | `4` | –ú–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–π —É—Ä–æ–≤–µ–Ω—å (H1-H4) |
| `scrollOffset` | number | `80` | –û—Ç—Å—Ç—É–ø –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ (px) |
| `activeClass` | string | `'active'` | –ö–ª–∞—Å—Å –¥–ª—è –∞–∫—Ç–∏–≤–Ω–æ–π —Å—Å—ã–ª–∫–∏ |

## –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ü—Ä–µ–¥–æ–±—Ä–∞–±–æ—Ç–∫–∞

–ü–∞—Ä—Å–µ—Ä –≤—ã–ø–æ–ª–Ω—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Ö–æ–¥–æ–≤ –æ–±—Ä–∞–±–æ—Ç–∫–∏:

1. **–ë–ª–æ–∫–∏ –∫–æ–¥–∞** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–ª–æ–∫–æ–≤ —Å —Ç—Ä–µ–º—è –æ–±—Ä–∞—Ç–Ω—ã–º–∏ –∫–∞–≤—ã—á–∫–∞–º–∏ (```)
2. **LaTeX —Ñ–æ—Ä–º—É–ª—ã** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ `$$...$$` (block) –∏ `$...$` (inline)
3. **–§–æ—Ä–º—É–ª—ã** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ `[formula]...[/formula]` –∏ —Ñ—Ä–∞–Ω—Ü—É–∑—Å–∫–∏—Ö –∫–∞–≤—ã—á–µ–∫ `¬´¬ª`
4. **Markdown ‚Üí HTML** - –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –ø–∞—Ä—Å–µ—Ä (–±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫)
5. **–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è** - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—É—Ç–µ–π
6. **–°—Å—ã–ª–∫–∏** - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö —Å—Å—ã–ª–æ–∫ –¥–ª—è SPA
7. **–Ø–∫–æ—Ä—è** - –∞–≤—Ç–æ–≥–µ–Ω–µ—Ä–∞—Ü–∏—è ID –¥–ª—è –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
8. **–ü–∞–≥–∏–Ω–∞—Ü–∏—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Ä–∞–∑–±–∏–≤–∫–∞ –ø–æ —Ä–∞–∑–¥–µ–ª–∞–º (h2)

### –¢–∏–ø—ã —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –±–ª–æ–∫–æ–≤

–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –±–ª–æ–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ markdown blockquotes:

```markdown
> ‚ö†Ô∏è **–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ:** - .article-block.warning
> üîë **–ö–ª—é—á–µ–≤–∞—è –∏–¥–µ—è:** - .article-block.key-idea
> üí° **–ó–∞–º–µ—Ç–∫–∞:** - .article-block.note
> üìù **–ü—Ä–∏–º–µ—Ä:** - .article-block.example
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π

- –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω—ã–µ –ø—É—Ç–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
- `https://...` ‚Üí –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (–≤–Ω–µ—à–Ω–∏–µ —Å—Å—ã–ª–∫–∏)

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Å—Å—ã–ª–æ–∫

- `#anchor` ‚Üí –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π (—è–∫–æ—Ä—å –≤ —Ç–µ–∫—É—â–µ–π —Å—Ç–∞—Ç—å–µ)
- –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —á–µ—Ä–µ–∑ —Ä–æ—É—Ç–µ—Ä
- `https://...` ‚Üí –≤–Ω–µ—à–Ω–∏–µ —Å—Å—ã–ª–∫–∏ –æ—Ç–∫—Ä—ã–≤–∞—é—Ç—Å—è –≤ –Ω–æ–≤–æ–π –≤–∫–ª–∞–¥–∫–µ

## –°—Ç–∏–ª–∏–∑–∞—Ü–∏—è

### CSS –∫–ª–∞—Å—Å—ã

**Layout:**
- `.article-wrapper` - –æ—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä (grid layout)
- `.article-toc-sidebar` - –±–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è
- `.article-content` - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –∫–æ–Ω—Ç–µ–Ω—Ç–∞

**Content:**
- `.article-header` - –∑–∞–≥–æ–ª–æ–≤–æ–∫ —Å—Ç–∞—Ç—å–∏
- `.article-body` - —Ç–µ–ª–æ —Å—Ç–∞—Ç—å–∏
- `.article-footer` - –ø–æ–¥–≤–∞–ª (–Ω–∞–≤–∏–≥–∞—Ü–∏—è)

**Special blocks:**
- `.article-block` - –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å –±–ª–æ–∫–∞
- `.article-block.warning` - –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ
- `.article-block.key-idea` - –∫–ª—é—á–µ–≤–∞—è –∏–¥–µ—è
- `.article-block.note` - –∑–∞–º–µ—Ç–∫–∞
- `.article-block.example` - –ø—Ä–∏–º–µ—Ä

**Formula:**
- `.formula-box` - —Ä–∞–º–∫–∞ –¥–ª—è —Ñ–æ—Ä–º—É–ª
- `.formula-box-content` - —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ä–∞–º–∫–∏

**TOC:**
- `.toc-nav` - –Ω–∞–≤–∏–≥–∞—Ü–∏—è —Å–æ–¥–µ—Ä–∂–∞–Ω–∏—è
- `.toc-list` - —Å–ø–∏—Å–æ–∫ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤
- `.toc-link` - —Å—Å—ã–ª–∫–∞ –Ω–∞ —Ä–∞–∑–¥–µ–ª
- `.toc-link.active` - –∞–∫—Ç–∏–≤–Ω–∞—è —Å—Å—ã–ª–∫–∞

### –¢–µ–º—ã (dark/light)

–í—Å–µ —Å—Ç–∏–ª–∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç –æ–±–µ —Ç–µ–º—ã —á–µ—Ä–µ–∑ CSS –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –∏ `@media (prefers-color-scheme: dark)`.

## –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –±–ª–æ–∫–∞

1. –î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –≤ —Ñ—É–Ω–∫—Ü–∏—é `simpleMarkdownToHtml()` –≤ `pages/article-view.html`:

```javascript
// –û–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–æ–≤–æ–≥–æ —Ç–∏–ø–∞ –±–ª–æ–∫–∞
html = html.replace(/^>\s*üéØ\s*\*\*([^:]+):\*\*\s*\n((?:^>.*\n?)+)/gm, (match, title, content) => {
    return `<div class="article-block new-type">
        <strong>${title}</strong>
        ${content.replace(/^>\s*/gm, '')}
    </div>`;
});
```

2. –î–æ–±–∞–≤–∏—Ç—å —Å—Ç–∏–ª–∏ –≤ `css/style.css`:

```css
.article-block.new-type {
    background: #f0f9ff;
    border-color: #0ea5e9;
    color: #0c4a6e;
}
```

### –†–∞—Å—à–∏—Ä–µ–Ω–∏–µ –ø–∞—Ä—Å–µ—Ä–∞

–ü–∞—Ä—Å–µ—Ä –º–æ–∂–Ω–æ —Ä–∞—Å—à–∏—Ä–∏—Ç—å, –¥–æ–±–∞–≤–∏–≤ –Ω–æ–≤—ã–µ –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –≤ —Ñ—É–Ω–∫—Ü–∏—é `simpleMarkdownToHtml()`:

```javascript
// –ü—Ä–∏–º–µ—Ä: –æ–±—Ä–∞–±–æ—Ç–∫–∞ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
html = html.replace(/\[custom:([^\]]+)\]([^\[]+)\[\/custom\]/g, (match, type, content) => {
    return `<div class="custom-${type}">${content}</div>`;
});
```

## –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

### –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è

- **Lazy loading** –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (—á–µ—Ä–µ–∑ –±—Ä–∞—É–∑–µ—Ä)
- **–ü–∞–≥–∏–Ω–∞—Ü–∏—è** - —Ä–∞–∑–±–∏–≤–∫–∞ –¥–ª–∏–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- **–ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è** –∑–∞–≥—Ä—É–∑–∫–∞ MathJax (CDN)
- **Debouncing** –¥–ª—è scroll tracking –≤ TOC

### –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏

- –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (<500KB)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å WebP —Ñ–æ—Ä–º–∞—Ç –∫–æ–≥–¥–∞ –≤–æ–∑–º–æ–∂–Ω–æ
- –ú–∏–Ω–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ñ–æ—Ä–º—É–ª –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —Ä–∞–∑–º–µ—Ä markdown —Ñ–∞–π–ª–æ–≤ (<100KB)
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–∞–∑–¥–µ–ª—ã (h2) –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø–∞–≥–∏–Ω–∞—Ü–∏–∏

## –û—Ç–ª–∞–¥–∫–∞

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞

–û—Ç–∫—Ä–æ–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ (F12) –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç–∞—Ç—å–∏:

```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
console.log('Article ID:', getArticleId());
console.log('Markdown loaded:', mdText.length);
console.log('HTML generated:', html.length);
```

### –¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

| –ü—Ä–æ–±–ª–µ–º–∞ | –ü—Ä–∏—á–∏–Ω–∞ | –†–µ—à–µ–Ω–∏–µ |
|----------|---------|---------|
| –§–æ—Ä–º—É–ª—ã –Ω–µ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è | MathJax –Ω–µ –∑–∞–≥—Ä—É–∂–µ–Ω | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ MathJax –ø–æ–¥–∫–ª—é—á–µ–Ω –≤ `index.html` |
| –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è 404 | –ù–µ–≤–µ—Ä–Ω—ã–π –ø—É—Ç—å | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞–ø–æ–∫ –∏ –ø—É—Ç—å –≤ `mdFile` |
| –°—Å—ã–ª–∫–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç | –†–æ—É—Ç–µ—Ä –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ä–æ—É—Ç–µ—Ä –∑–∞–≥—Ä—É–∂–µ–Ω –∏ –º–∞—Ä—à—Ä—É—Ç—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã |
| –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ –ø—É—Å—Ç–æ–µ | –ú–∞–ª–æ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ –≤ —Å—Ç–∞—Ç—å–µ –µ—Å—Ç—å –∑–∞–≥–æ–ª–æ–≤–∫–∏ h2-h6 |
| –°—Ç–∞—Ç—å—è –Ω–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è | –°—Ç–∞—Ç—å—è –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –≤ –∫–∞—Ç–∞–ª–æ–≥–µ | –ü—Ä–æ–≤–µ—Ä–∏—Ç—å `articles-list.json` –∏ –ø—É—Ç—å `mdFile` |

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –†—É—á–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

1. –°–æ–∑–¥–∞—Ç—å —Ç–µ—Å—Ç–æ–≤—É—é —Å—Ç–∞—Ç—å—é –≤ `articles/test-simple/`
2. –î–æ–±–∞–≤–∏—Ç—å –≤ `articles/articles-list.json`
3. –û—Ç–∫—Ä—ã—Ç—å `/article?id=test-simple`
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã:
   - –ó–∞–≥–æ–ª–æ–≤–∫–∏ –∏ —Å–æ–¥–µ—Ä–∂–∞–Ω–∏–µ
   - –§–æ—Ä–º—É–ª—ã (inline –∏ block)
   - –°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ –±–ª–æ–∫–∏
   - –ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è
   - –°—Å—ã–ª–∫–∏
   - –ü–∞–≥–∏–Ω–∞—Ü–∏—è (–µ—Å–ª–∏ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ h2)

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞

```javascript
// –í –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞ –º–æ–∂–Ω–æ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å:
const testMd = '# Test\n\n$$E = mc^2$$';
const html = simpleMarkdownToHtml(testMd);
console.assert(html.includes('<h1'), 'H1 parsed');
console.assert(html.includes('E = mc'), 'Formula parsed');
```

## –ú–∏–≥—Ä–∞—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å—Ç–∞—Ç–µ–π

–°–º. –æ—Ç–¥–µ–ª—å–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ [ARTICLE_WRITING_GUIDE.md](ARTICLE_WRITING_GUIDE.md).

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –≤–æ–ø—Ä–æ—Å—ã

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –≤–æ–ø—Ä–æ—Å–æ–≤ –∏–ª–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å [ARTICLE_PROTOCOL.md](ARTICLE_PROTOCOL.md)
2. –ò–∑—É—á–∏—Ç—å –ø—Ä–∏–º–µ—Ä—ã –≤ `articles/`
3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ –æ—à–∏–±–∫–∏
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É `articles-list.json`

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–°–∏—Å—Ç–µ–º–∞ –ø–∞—Ä—Å–∏–Ω–≥–∞ —Å—Ç–∞—Ç–µ–π –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –Ω–∞—É—á–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –º–∞—Ç–µ–º–∞—Ç–∏–∫–∏, —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã—Ö –±–ª–æ–∫–æ–≤ –∏ –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–≥–æ –¥–∏–∑–∞–π–Ω–∞. –ü–∞—Ä—Å–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –≤–Ω–µ—à–Ω–∏—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫ –∏ –ª–µ–≥–∫–æ —Ä–∞—Å—à–∏—Ä—è–µ—Ç—Å—è. –°–∏—Å—Ç–µ–º–∞ –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω–∞ —Å SPA —Ä–æ—É—Ç–µ—Ä–æ–º –ø—Ä–æ–µ–∫—Ç–∞ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–∞–≥–∏–Ω–∞—Ü–∏—é –¥–ª–∏–Ω–Ω—ã—Ö —Å—Ç–∞—Ç–µ–π.

---

**–î–∞—Ç–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:** 2025-01-01  
**–í–µ—Ä—Å–∏—è:** 2.0.0
